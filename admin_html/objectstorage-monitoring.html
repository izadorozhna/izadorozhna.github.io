<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

  <title>OpenStack Docs: Object Storage monitoring</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
<!-- CSS references are in the css.html template -->
    <!-- Bootstrap Core CSS -->
    <link href="_static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Pygments css -->
    <link href="_static/css/native.css" rel="stylesheet">

    <!-- Fonts -->
    <!--<link href="font-awesome.min.css" rel="stylesheet">-->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

	<!-- BB: theme style sheets moved here so that theme rules aren't 
	     overridden by awesome rules. Should they go after the scripts below? -->
    <!-- Custom CSS -->
    <link href="_static/css/combined.css" rel="stylesheet">
    <link href="_static/css/styles.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Page-specific CSS -->
  
  
 </head>
 <body>
    <!-- Header -->
        <!-- Header Navigation -->
        <nav class="navbar navbar-default inner" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
             <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
      <span class="sr-only">
      Toggle navigation
      </span>
      <span class="icon-bar">
      </span>
      <span class="icon-bar">
      </span>
      <span class="icon-bar">
      </span>
      </button>
                <div class="brand-wrapper">
                    <a class="navbar-brand" href="/"></a>
                </div>
                <div class="search-icon show"><i class="fa fa-search"></i>
Search</div>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling
-->
            <div class="collapse navbar-collapse"
id="bs-example-navbar-collapse-1">
                <div class="search-container tiny">



  <div id="gcse">
    <script type="text/javascript">
      (function() {
        var cx = '000108871792296872333:noj9nikm74i';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = (document.location.protocol == 'https:' ? 'https:' :
'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:search gname="standard"></gcse:search>
  </div>


                    <i class="fa fa-times close-search"></i>
                </div>
                    <ul class="nav navbar-nav navbar-main show">
                        <li>



  <div id="gcse-mobile">
    <gcse:search gname="mobile"></gcse:search>
  </div>


                        </li>


                        <li>

                                <a href="http://www.openstack.org/software/" class="drop"
id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
                                <ul class="dropdown-menu" role="menu"
aria-labelledby="dropdownMenuSoftware">


                                            <li role="presentation"><a
role="menuitem" tabindex="-1" href="http://www.openstack.org/software/">Overview</a></li>



                                            <li role="presentation"
class="divider"></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1"
href="http://www.openstack.org/software/openstack-compute/">Compute</a></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1"
href="http://www.openstack.org/software/openstack-storage/">Storage</a></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1"
href="http://www.openstack.org/software/openstack-networking/">Networking</a></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1"
href="http://www.openstack.org/software/openstack-dashboard/">Dashboard</a></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1"
href="http://www.openstack.org/software/openstack-shared-services/">Shared Services</a></li>



                                            <li role="presentation"
class="divider"></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1" href="http://www.openstack.org/software/start/">Get
Started</a></li>


                                </ul>

                        </li>

                        <li>

                                <a href="http://www.openstack.org/user-stories/" class="drop"
id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
                                <ul class="dropdown-menu" role="menu"
aria-labelledby="dropdownMenuUsers">


                                            <li role="presentation"><a
role="menuitem" tabindex="-1" href="http://www.openstack.org/user-stories/">Overview</a></li>



                                            <li role="presentation"
class="divider"></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1" href="//superuser.openstack.org/">Superuser
Magazine</a></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1"
href="http://www.openstack.org/enterprise/auto/">Featured:  Top 10
Automaker</a></li>


                                </ul>

                        </li>

                        <li>

                                <a href="http://www.openstack.org/community/" class="drop"
id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
                                <ul class="dropdown-menu" role="menu"
aria-labelledby="dropdownMenuCommunity">


                                            <li role="presentation"><a
role="menuitem" tabindex="-1" href="http://www.openstack.org/community/">Welcome! Start Here</a></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1" href="//ask.openstack.org/">Ask A Technical
Question</a></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1"
href="//wiki.openstack.org/wiki/Main_Page">OpenStack Wiki</a></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1"
href="//www.openstack.org/community/events/">Community Events</a></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1"
href="//wiki.openstack.org/wiki/Getting_The_Code">Source Code</a></li>



                                            <li role="presentation"
class="divider"></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1"
href="//www.openstack.org/foundation/companies/">Supporting Companies</a></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1"
href="//www.openstack.org/community/jobs/">Jobs</a></li>



                                            <li role="presentation"
class="divider"></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1" href="//www.openstack.org/join/">Join The
Community</a></li>


                                </ul>

                        </li>

                        <li>

                                <a href="http://www.openstack.org/marketplace/">Marketplace</a>

                        </li>

                        <li>

                                <a href="http://www.openstack.org/events/" class="drop"
id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
                                <ul class="dropdown-menu" role="menu"
aria-labelledby="dropdownMenuEvents">


                                            <li role="presentation"><a
role="menuitem" tabindex="-1"
href="//www.openstack.org/community/events/">Overview</a></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1"
href="//www.openstack.org/summit/openstack-paris-summit-2014/">The OpenStack
Summit</a></li>



                                            <li role="presentation"><a
role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More
OpenStack Events</a></li>


                                </ul>

                        </li>

                        <li>

                                <a href="http://www.openstack.org/blog/">Blog</a>

                        </li>

                        <li>

                                <a href="http://docs.openstack.org/">Docs</a>

                        </li>


                        <li>
                            <a href="http://openstack.org/Security/login/"
class="sign-in-btn">Sign In</a>
                        </li>
                    </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Begin Page Content -->
        <div class="container docs-book-wrapper">
        <div class="row">
            <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<!-- Row with title and buttons-->
            <div class="row">
                <div class="col-lg-8">
                <h2>Object Storage monitoring</h2>
                </div>
<div class="docs-actions">
                  
                  <a href="objectstorage_tenant_specific_image_storage.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Configure tenant-specific image locations with Object Storage"></i></a>
                  
                  
                  <a href="objectstorage-admin.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: System administration for Object Storage"></i></a>
                  
                  <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
                </div>
            </div>
            <div class="row docs-byline">
                <div class="docs-updated">
                    updated: 2015-10-23 15:47 | release: 0.9
                </div>
                <a href="http://git.openstack.org/" class="docs-edit">
                    <i class="fa fa-pencil"></i> suggest edits
                </a>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="docs-top-contents">
                    <h5>Contents</h5>
                    <ul>
<li><a class="reference internal" href="#">Object Storage monitoring</a><ul>
<li><a class="reference internal" href="#swift-recon">Swift Recon</a></li>
<li><a class="reference internal" href="#swift-informant">Swift-Informant</a></li>
<li><a class="reference internal" href="#statsdlog">Statsdlog</a></li>
<li><a class="reference internal" href="#swift-statsd-logging">Swift StatsD logging</a></li>
</ul>
</li>
</ul>

                    </div>
                <div class="docs-body">

  <div class="section" id="object-storage-monitoring">
<h1>Object Storage monitoring<a class="headerlink" href="#object-storage-monitoring" title="Permalink to this headline">¶</a></h1>
<p>Excerpted from a blog post by <a class="reference external" href="http://swiftstack.com/blog/2012/04/11/swift-monitoring-with-statsd">Darrell
Bishop</a></p>
<p>An OpenStack Object Storage cluster is a collection of many daemons that
work together across many nodes. With so many different components, you
must be able to tell what is going on inside the cluster. Tracking
server-level meters like CPU utilization, load, memory consumption, disk
usage and utilization, and so on is necessary, but not sufficient.</p>
<p>What are different daemons are doing on each server? What is the volume
of object replication on node8? How long is it taking? Are there errors?
If so, when did they happen?</p>
<p>In such a complex ecosystem, you can use multiple approaches to get the
answers to these questions. This section describes several approaches.</p>
<div class="section" id="swift-recon">
<h2>Swift Recon<a class="headerlink" href="#swift-recon" title="Permalink to this headline">¶</a></h2>
<p>The Swift Recon middleware (see
<a class="reference external" href="http://swift.openstack.org/admin_guide.html#cluster-telemetry-and-monitoring">http://swift.openstack.org/admin_guide.html#cluster-telemetry-and-monitoring</a>)
provides general machine statistics, such as load average, socket
statistics, <tt class="docutils literal"><span class="pre">/proc/meminfo</span></tt> contents, and so on, as well as
Swift-specific meters:</p>
<ul class="simple">
<li>The MD5 sum of each ring file.</li>
<li>The most recent object replication time.</li>
<li>Count of each type of quarantined file: Account, container, or
object.</li>
<li>Count of &#8220;async_pendings&#8221; (deferred container updates) on disk.</li>
</ul>
<p>Swift Recon is middleware that is installed in the object servers
pipeline and takes one required option: A local cache directory. To
track <tt class="docutils literal"><span class="pre">async_pendings</span></tt>, you must set up an additional cron job for
each object server. You access data by either sending HTTP requests
directly to the object server or using the <tt class="docutils literal"><span class="pre">swift-recon</span></tt> command-line
client.</p>
<p>There are some good Object Storage cluster statistics but the general
server meters overlap with existing server monitoring systems. To get
the Swift-specific meters into a monitoring system, they must be polled.
Swift Recon essentially acts as a middleware meters collector. The
process that feeds meters to your statistics system, such as
<tt class="docutils literal"><span class="pre">collectd</span></tt> and <tt class="docutils literal"><span class="pre">gmond</span></tt>, probably already runs on the storage node.
So, you can choose to either talk to Swift Recon or collect the meters
directly.</p>
</div>
<div class="section" id="swift-informant">
<h2>Swift-Informant<a class="headerlink" href="#swift-informant" title="Permalink to this headline">¶</a></h2>
<p>Florian Hines developed the Swift-Informant middleware (see
<a class="reference external" href="https://github.com/pandemicsyn/swift-informant">https://github.com/pandemicsyn/swift-informant</a>) to get real-time
visibility into Object Storage client requests. It sits in the pipeline
for the proxy server, and after each request to the proxy server, sends
three meters to a StatsD server (see
<a class="reference external" href="http://codeascraft.etsy.com/2011/02/15/measure-anything-measure-everything/">http://codeascraft.etsy.com/2011/02/15/measure-anything-measure-everything/</a>):</p>
<ul class="simple">
<li>A counter increment for a meter like <tt class="docutils literal"><span class="pre">obj.GET.200</span></tt> or
<tt class="docutils literal"><span class="pre">cont.PUT.404</span></tt>.</li>
<li>Timing data for a meter like <tt class="docutils literal"><span class="pre">acct.GET.200</span></tt> or <tt class="docutils literal"><span class="pre">obj.GET.200</span></tt>.
[The README says the meters look like <tt class="docutils literal"><span class="pre">duration.acct.GET.200</span></tt>, but
I do not see the <tt class="docutils literal"><span class="pre">duration</span></tt> in the code. I am not sure what the
Etsy server does but our StatsD server turns timing meters into five
derivative meters with new segments appended, so it probably works as
coded. The first meter turns into <tt class="docutils literal"><span class="pre">acct.GET.200.lower</span></tt>,
<tt class="docutils literal"><span class="pre">acct.GET.200.upper</span></tt>, <tt class="docutils literal"><span class="pre">acct.GET.200.mean</span></tt>,
<tt class="docutils literal"><span class="pre">acct.GET.200.upper_90</span></tt>, and <tt class="docutils literal"><span class="pre">acct.GET.200.count</span></tt>].</li>
<li>A counter increase by the bytes transferred for a meter like
<tt class="docutils literal"><span class="pre">tfer.obj.PUT.201</span></tt>.</li>
</ul>
<p>This is good for getting a feel for the quality of service clients are
experiencing with the timing meters, as well as getting a feel for the
volume of the various permutations of request server type, command, and
response code. Swift-Informant also requires no change to core Object
Storage code because it is implemented as middleware. However, it gives
you no insight into the workings of the cluster past the proxy server.
If the responsiveness of one storage node degrades, you can only see
that some of your requests are bad, either as high latency or error
status codes. You do not know exactly why or where that request tried to
go. Maybe the container server in question was on a good node but the
object server was on a different, poorly-performing node.</p>
</div>
<div class="section" id="statsdlog">
<h2>Statsdlog<a class="headerlink" href="#statsdlog" title="Permalink to this headline">¶</a></h2>
<p>Florian&#8217;s <a class="reference external" href="https://github.com/pandemicsyn/statsdlog">Statsdlog</a>
project increments StatsD counters based on logged events. Like
Swift-Informant, it is also non-intrusive, but statsdlog can track
events from all Object Storage daemons, not just proxy-server. The
daemon listens to a UDP stream of syslog messages and StatsD counters
are incremented when a log line matches a regular expression. Meter
names are mapped to regex match patterns in a JSON file, allowing
flexible configuration of what meters are extracted from the log stream.</p>
<p>Currently, only the first matching regex triggers a StatsD counter
increment, and the counter is always incremented by one. There is no way
to increment a counter by more than one or send timing data to StatsD
based on the log line content. The tool could be extended to handle more
meters for each line and data extraction, including timing data. But a
coupling would still exist between the log textual format and the log
parsing regexes, which would themselves be more complex to support
multiple matches for each line and data extraction. Also, log processing
introduces a delay between the triggering event and sending the data to
StatsD. It would be preferable to increment error counters where they
occur and send timing data as soon as it is known to avoid coupling
between a log string and a parsing regex and prevent a time delay
between events and sending data to StatsD.</p>
<p>The next section describes another method for gathering Object Storage
operational meters.</p>
</div>
<div class="section" id="swift-statsd-logging">
<h2>Swift StatsD logging<a class="headerlink" href="#swift-statsd-logging" title="Permalink to this headline">¶</a></h2>
<p>StatsD (see
<a class="reference external" href="http://codeascraft.etsy.com/2011/02/15/measure-anything-measure-everything/">http://codeascraft.etsy.com/2011/02/15/measure-anything-measure-everything/</a>)
was designed for application code to be deeply instrumented; meters are
sent in real-time by the code that just noticed or did something. The
overhead of sending a meter is extremely low: a <tt class="docutils literal"><span class="pre">sendto</span></tt> of one UDP
packet. If that overhead is still too high, the StatsD client library
can send only a random portion of samples and StatsD approximates the
actual number when flushing meters upstream.</p>
<p>To avoid the problems inherent with middleware-based monitoring and
after-the-fact log processing, the sending of StatsD meters is
integrated into Object Storage itself. The submitted change set (see
<a class="reference external" href="https://review.openstack.org/#change,6058">https://review.openstack.org/#change,6058</a>) currently reports 124 meters
across 15 Object Storage daemons and the tempauth middleware. Details of
the meters tracked are in the <a class="reference external" href="http://docs.openstack.org/developer/swift/admin_guide.html">Administrator&#8217;s
Guide</a>.</p>
<p>The sending of meters is integrated with the logging framework. To
enable, configure <tt class="docutils literal"><span class="pre">log_statsd_host</span></tt> in the relevant config file. You
can also specify the port and a default sample rate. The specified
default sample rate is used unless a specific call to a statsd logging
method (see the list below) overrides it. Currently, no logging calls
override the sample rate, but it is conceivable that some meters may
require accuracy (sample_rate == 1) while others may not.</p>
<div class="code highlight-python"><div class="highlight"><pre>[DEFAULT]
     ...
log_statsd_host = 127.0.0.1
log_statsd_port = 8125
log_statsd_default_sample_rate = 1
</pre></div>
</div>
<p>Then the LogAdapter object returned by <tt class="docutils literal"><span class="pre">get_logger()</span></tt>, usually stored
in <tt class="docutils literal"><span class="pre">self.logger</span></tt>, has these new methods:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">set_statsd_prefix(self,</span> <span class="pre">prefix)</span></tt> Sets the client library stat
prefix value which gets prefixed to every meter. The default prefix
is the &#8220;name&#8221; of the logger such as &#8220;object-server&#8221;,
&#8220;container-auditor&#8221;, and so on. This is currently used to turn
&#8220;proxy-server&#8221; into one of &#8220;proxy-server.Account&#8221;,
&#8220;proxy-server.Container&#8221;, or &#8220;proxy-server.Object&#8221; as soon as the
Controller object is determined and instantiated for the request.</li>
<li><tt class="docutils literal"><span class="pre">update_stats(self,</span> <span class="pre">metric,</span> <span class="pre">amount,</span> <span class="pre">sample_rate=1)</span></tt> Increments
the supplied meter by the given amount. This is used when you need
to add or subtract more that one from a counter, like incrementing
&#8220;suffix.hashes&#8221; by the number of computed hashes in the object
replicator.</li>
<li><tt class="docutils literal"><span class="pre">increment(self,</span> <span class="pre">metric,</span> <span class="pre">sample_rate=1)</span></tt> Increments the given counter
meter by one.</li>
<li><tt class="docutils literal"><span class="pre">decrement(self,</span> <span class="pre">metric,</span> <span class="pre">sample_rate=1)</span></tt> Lowers the given counter
meter by one.</li>
<li><tt class="docutils literal"><span class="pre">timing(self,</span> <span class="pre">metric,</span> <span class="pre">timing_ms,</span> <span class="pre">sample_rate=1)</span></tt> Record that the
given meter took the supplied number of milliseconds.</li>
<li><tt class="docutils literal"><span class="pre">timing_since(self,</span> <span class="pre">metric,</span> <span class="pre">orig_time,</span> <span class="pre">sample_rate=1)</span></tt>
Convenience method to record a timing meter whose value is &#8220;now&#8221;
minus an existing timestamp.</li>
</ul>
<p>Note that these logging methods may safely be called anywhere you have a
logger object. If StatsD logging has not been configured, the methods
are no-ops. This avoids messy conditional logic each place a meter is
recorded. These example usages show the new logging methods:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># swift/obj/replicator.py</span>
def update<span class="o">(</span>self, job<span class="o">)</span>:
    <span class="c"># ...</span>
    <span class="nv">begin</span> <span class="o">=</span> time.time<span class="o">()</span>
    try:
        hashed, <span class="nv">local_hash</span> <span class="o">=</span> tpool.execute<span class="o">(</span>tpooled_get_hashes, job<span class="o">[</span><span class="s1">&#39;path&#39;</span><span class="o">]</span>,
                <span class="nv">do_listdir</span><span class="o">=(</span>self.replication_count % 10<span class="o">)</span> <span class="o">==</span> 0,
                <span class="nv">reclaim_age</span><span class="o">=</span>self.reclaim_age<span class="o">)</span>
        <span class="c"># See tpooled_get_hashes &quot;Hack&quot;.</span>
        <span class="k">if</span> isinstance<span class="o">(</span>hashed, BaseException<span class="o">)</span>:
            raise hashed
        self.suffix_hash +<span class="o">=</span> hashed
        self.logger.update_stats<span class="o">(</span><span class="s1">&#39;suffix.hashes&#39;</span>, hashed<span class="o">)</span>
        <span class="c"># ...</span>
    finally:
        self.partition_times.append<span class="o">(</span>time.time<span class="o">()</span> - begin<span class="o">)</span>
        self.logger.timing_since<span class="o">(</span><span class="s1">&#39;partition.update.timing&#39;</span>, begin<span class="o">)</span>
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># swift/container/updater.py</span>
def process_container<span class="o">(</span>self, dbfile<span class="o">)</span>:
    <span class="c"># ...</span>
    <span class="nv">start_time</span> <span class="o">=</span> time.time<span class="o">()</span>
    <span class="c"># ...</span>
        <span class="k">for</span> event in events:
            <span class="k">if</span> <span class="m">200</span> &lt;<span class="o">=</span> event.wait<span class="o">()</span> &lt; 300:
                successes +<span class="o">=</span> 1
            <span class="k">else</span>:
                failures +<span class="o">=</span> 1
        <span class="k">if</span> successes &gt; failures:
            self.logger.increment<span class="o">(</span><span class="s1">&#39;successes&#39;</span><span class="o">)</span>
            <span class="c"># ...</span>
        <span class="k">else</span>:
            self.logger.increment<span class="o">(</span><span class="s1">&#39;failures&#39;</span><span class="o">)</span>
            <span class="c"># ...</span>
        <span class="c"># Only track timing data for attempted updates:</span>
        self.logger.timing_since<span class="o">(</span><span class="s1">&#39;timing&#39;</span>, start_time<span class="o">)</span>
    <span class="k">else</span>:
        self.logger.increment<span class="o">(</span><span class="s1">&#39;no_changes&#39;</span><span class="o">)</span>
        self.no_changes +<span class="o">=</span> 1
</pre></div>
</div>
<p>The development team of StatsD wanted to use the
<a class="reference external" href="https://github.com/sivy/py-statsd">pystatsd</a> client library (not to
be confused with a <a class="reference external" href="https://github.com/sivy/py-statsd">similar-looking
project</a> also hosted on GitHub),
but the released version on PyPI was missing two desired features the
latest version in GitHub had: the ability to configure a meters prefix
in the client object and a convenience method for sending timing data
between &#8220;now&#8221; and a &#8220;start&#8221; timestamp you already have. So they just
implemented a simple StatsD client library from scratch with the same
interface. This has the nice fringe benefit of not introducing another
external library dependency into Object Storage.</p>
</div>
</div>


              </div>
          </div>
          </div>
          <!-- <div class="docs-tags">
                <a href="#" class="docs-tag">Network Time Protocol (NTP)</a>
                <a href="#" class="docs-tag">Security</a>
                <a href="#" class="docs-tag">Conceptual architecture</a>
            </div> -->
<div class="docs-actions">
                  
                  <a href="objectstorage_tenant_specific_image_storage.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Configure tenant-specific image locations with Object Storage"></i></a>
                  
                  
                  <a href="objectstorage-admin.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: System administration for Object Storage"></i></a>
                  
                  <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
                </div>
                <div class="row docs-byline bottom">
                <div class="docs-updated">
                updated: 2015-10-23 15:47 | release: 0.9
                </div>
                <a href="http://git.openstack.org/" class="docs-edit">
                    <i class="fa fa-pencil"></i> suggest edits
                </a>
</div>
    <div class="row">
         <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
           <img src="_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
<p>
 Except where otherwise noted, this document is licensed under Creative Commons
 Attribution 3.0 License
 <a href="#">http://creativecommons.org/licenses/by/3.0/legalcode</a>.
</p>
<p>
 <a href="http://www.openstack.org/legal">See All Legal Notices</a>
</p>
         </div>
         <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
                    <!-- ID buglinkbottom added so that pre-filled doc bugs
                    are sent to Launchpad projects related to the document -->
                    <a href="#" id="logABugLink2" class="docs-footer-actions">
                        <i class="fa fa-bug"></i>found an error? report a bug
                    </a>
                    <a href="http://ask.openstack.org" class="docs-footer-actions">
                        <i class="fa fa-question-circle"></i>questions? <a href="http://ask.openstack.org/">ask.openstack.org</a>
                    </a>
                </div>
     </div>
     </div>
            <!-- Docs Sidebar -->
                <div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
            <div class="search-icon show"><i class="fa fa-search"></i>
Search</div>
            <div class="btn-group docs-sidebar-releases">
                <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
                <button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">Release: Kilo (April 2015)<i class="fa fa-caret-down"></i></button>
                <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
                    <li role="presentation" class="dropdown-header">Releases</li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="/kilo/">Kilo (current release)</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="/juno/">Juno (October 2014)</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="/icehouse/">Icehouse (May 2014)</a></li>
                    <li role="presentation" class="dropdown-header">Languages</li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="/ja/">日本語 (Japanese)</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="/de/">Deutsch (German)</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="/fr/">Français (French)</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="/pt_BR/">Português (Portuguese)</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="/zh_CN/">简体中文 (Simplified Chinese)</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="/ko_KR/">한국어 (Korean)</a></li>
                </ul>
            </div>
                <div class="docs-sidebar-toc">
                    <div class="docs-sidebar-section" id="install-guides">
                        <a class="docs-sidebar-section-title" href="http://docs.openstack.org/index.html#install-guides"><h4>Install Guides</h4></a>
                    </div>
                    <div class="docs-sidebar-section" id="user-guides">
                        <a class="docs-sidebar-section-title" href="http://docs.openstack.org/index.html#user-guides"><h4>User Guides</h4></a>
                    </div>
                    <div class="docs-sidebar-section" id="configuration-guides">
                        <a class="docs-sidebar-section-title" href="http://docs.openstack.org/index.html#configuration-guides"><h4>Configuration Guides</h4></a>
                    </div>
                    <div class="docs-sidebar-section" id="operations-guides">
                        <a class="docs-sidebar-section-title" href="http://docs.openstack.org/openstack-ops/content/"><h4>Operations Guide</h4></a>
                    </div>
                    <div class="docs-sidebar-section" id="api-guides">
                        <a class="docs-sidebar-section-title" href="http://docs.openstack.org/index.html#api-guides"><h4>API Guides</h4></a>
                    </div>
                    <div class="docs-sidebar-section" id="contributor-guides">
                        <a class="docs-sidebar-section-title" href="http://docs.openstack.org/index.html#contributor-guides"><h4>Contributor Guides</h4></a>
                    </div>
                    <div class="docs-sidebar-section" id="table-of-contents">
                        <a class="docs-sidebar-section-title"><h4>Contents</h4></a>
                        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="common/conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="common/get_started_with_openstack.html">Get started with OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="identity_management.html">Identity management</a></li>
<li class="toctree-l1"><a class="reference internal" href="dashboard.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="compute.html">Compute</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="objectstorage.html">Object Storage</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="objectstorage_intro.html">Introduction to Object Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectstorage_features.html">Features and benefits</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectstorage_characteristics.html">Object Storage characteristics</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectstorage_components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectstorage_ringbuilder.html">Ring-builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectstorage_arch.html">Cluster architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectstorage_replication.html">Replication</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectstorage_auditors.html">Object Auditor</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectstorage_EC.html">Erasure coding</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectstorage_account_reaper.html">Account reaper</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectstorage_tenant_specific_image_storage.html">Configure tenant-specific image locations with Object Storage</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Object Storage monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectstorage-admin.html">System administration for Object Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectstorage-troubleshoot.html">Troubleshoot Object Storage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="blockstorage.html">Block Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="shared_file_systems.html">Shared File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">Networking</a></li>
<li class="toctree-l1"><a class="reference internal" href="telemetry.html">Telemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="baremetal.html">Bare Metal</a></li>
<li class="toctree-l1"><a class="reference internal" href="orchestration.html">Orchestration</a></li>
<li class="toctree-l1"><a class="reference internal" href="cross_project.html">Cross-project features</a></li>
<li class="toctree-l1"><a class="reference internal" href="common/app_support.html">Community support</a></li>
<li class="toctree-l1"><a class="reference internal" href="common/glossary.html">Glossary</a></li>
</ul>

                    </div>
                </div>
                </div>

</div>
</div>
    <!-- End Page Content -->

    <!-- Footer -->
    <!-- Footer -->
        <footer>
        <div class="container">
            <div class="row footer-links">
                <div class="col-lg-2 col-sm-2">
                    <h3>OpenStack</h3>
                    <ul>
                        <li><a href="/foundation">About the Foundation</a></li>
                        <li><a
href="http://openstack.org/projects/">Projects</a></li>
                        <li><a
href="http://openstack.org/projects/openstack-security/">OpenStack
Security</a></li>
                        <li><a
href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
                        <li><a href="http://openstack.org/blog/">Blog</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-sm-2">
                    <h3>Community</h3>
                    <ul>
                        <li><a href="http://openstack.org/community/">User
Groups</a></li>
                        <li><a
href="http://openstack.org/community/events/">Events</a></li>
                        <li><a
href="http://openstack.org/community/jobs/">Jobs</a></li>
                        <li><a
href="http://openstack.org/foundation/companies/">Companies</a></li>
                        <li><a
href="https://wiki.openstack.org/wiki/How_To_Contribute">Contribute</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-sm-2">
                    <h3>Documentation</h3>
                    <ul>
                        <li><a href="http://docs.openstack.org">OpenStack
Manuals</a></li>
                        <li><a
href="http://openstack.org/software/start/">Getting Started</a></li>
                        <li><a href="http://developer.openstack.org">API
Documentation</a></li>
                        <li><a href="https://wiki.openstack.org">Wiki</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-sm-2">
                    <h3>Branding & Legal</h3>
                    <ul>
                        <li><a href="http://openstack.org/brand/">Logos &
Guidelines</a></li>
                        <li><a
href="http://openstack.org/brand/openstack-trademark-policy/">Trademark
Policy</a></li>
                        <li><a href="http://openstack.org/privacy/">Privacy
Policy</a></li>
                        <li><a
href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributors_License_Agreement">OpenStack
CLA</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 col-sm-4">
                    <h3>Stay In Touch</h3>
                    <a href="https://twitter.com/OpenStack" target="_blank"
class="social-icons footer-twitter"></a>
                    <a href="https://www.facebook.com/openstack"
target="_blank" class="social-icons footer-facebook"></a>
                    <a href="https://www.linkedin.com/company/openstack"
target="_blank" class="social-icons footer-linkedin"></a>
                    <a href="https://www.youtube.com/user/OpenStackFoundation"
target="_blank" class="social-icons footer-youtube"></a>
                    <!-- <form class="form-inline">
                        <div class="form-group newsletter-form">
                            <label>Join Our Newsletter</label>
                            <input class="newsletter-input" type="input"
placeholder="Email">
                            <button type="submit"
class="newsletter-btn">Join</button>
                        </div>
                    </form> -->
                    <p class="fine-print">
                        The OpenStack project is provided under the Apache 2.0
license. Openstack.org is powered by <a href="http://rackspace.com"
target="_blank">Rackspace Cloud Computing</a>.
                    </p>
                </div>
            </div>
        </div>
    </footer>
    <div class="footer-bottom">
        <div class="container">
            <form class="form-inline" id="FeedbackForm_FeedbackForm" action="/home/FeedbackForm" method="post" enctype="application/x-www-form-urlencoded">
              <div class="form-group">
                <div>
                  <input class="feedback-input" type="input" placeholder="Give Us Your Feedback On This Page">
                  <button type="submit" class="feedback-btn">Submit</button>
                </div>
              </div>
            </form>
        </div>
    </div>

<!-- Scripts in: static directory-->
    <!-- jQuery Version 1.11.0 -->
    <script type="text/javascript" src="_static/js/jquery-1.11.3.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script type="text/javascript" src="_static/js/bootstrap.min.js"></script>

    <!-- The rest of the JS -->
    <script type="text/javascript" src="_static/js/navigation.js"></script>

    <!-- Docs JS -->
    <script type="text/javascript" src="_static/js/docs.js"></script>

    <!-- Popovers -->
    <script type="text/javascript" src="_static/js/webui-popover.js"></script>

    <!-- Javascript for page -->
    <script language="JavaScript">
    /* build a description of this page including SHA, source location on git repo and
       build time, the project's launchpad bug tag and set the HREF of the bug buttons */

        var lineFeed = "%0A";

        /* gitsha, project and bug_tag rely on variables in conf.py */
        var gitSha = "SHA: f7a37b8ab67b5fbe8597432774a12df3186c2e65"
        var bugTitle = "Object Storage monitoring in Cloud Administrator Guide"
        var fieldTags = "admin-guide-cloud"

        /* "last_updated" is the build date and time. It relies on the
           conf.py variable "html_last_updated_fmt", which should include
           year/month/day as well as hours and minutes                   */
        var buildstring = "Release: 0.9 on 2015-10-23 15:47"

        var fieldComment = encodeURI(buildstring) +
                           lineFeed + encodeURI(gitSha) +
                           lineFeed + encodeURI(gitlink)

        logABug(bugTitle, fieldComment, fieldTags)
    </script>
    <!-- Javascript for search boxes (both sidebar and top nav) -->
<script type="text/javascript">
        (function() {
        var cx = '000108871792296872333:noj9nikm74i';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = (document.location.protocol == 'https:' ? 'https:' :
'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
       </script>

 </body>
</html>